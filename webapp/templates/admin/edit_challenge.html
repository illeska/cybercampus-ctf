{% extends "base.html" %}
{% block title %}Modifier Challenge - Admin{% endblock %}

{% block content %}
<section class="page-wrapper">
  
  <div class="back-btn-container">
    <a href="{{ url_for('admin.challenges') }}" class="back-btn-modern">
      <span>&#8592;</span> Retour aux challenges
    </a>
  </div>

  <h2 class="animated-title">‚úèÔ∏è Modifier le Challenge</h2>

  <div class="edit-form-container">
    <form method="POST" class="edit-challenge-form">
      
      <div class="form-group">
        <label for="titre">Titre du Challenge</label>
        <input 
          type="text" 
          id="titre" 
          name="titre" 
          class="input-field" 
          value="{{ challenge.titre }}" 
          required
        />
      </div>

      <div class="form-group">
        <label for="description">Description</label>
        <textarea 
          id="description" 
          name="description" 
          class="input-field textarea" 
          rows="5" 
          required
        >{{ challenge.description }}</textarea>
      </div>

      <div class="form-group">
        <label for="points">Points</label>
        <input 
          type="number" 
          id="points" 
          name="points" 
          class="input-field" 
          value="{{ challenge.points }}" 
          min="0"
          required
        />
      </div>

      <div class="form-group">
        <label for="flag">Flag (laisser vide pour ne pas modifier)</label>
        <input 
          type="text" 
          id="flag" 
          name="flag" 
          class="input-field" 
          placeholder="CTF{...}"
        />
        <small class="help-text">
          ‚ö†Ô∏è Attention : modifier le flag invalidera toutes les anciennes soumissions correctes
        </small>
      </div>

      <div class="form-actions">
        <a href="{{ url_for('admin.challenges') }}" class="btn-cancel">
          Annuler
        </a>
        <button type="submit" class="btn-submit">
          üíæ Enregistrer les modifications
        </button>
      </div>

    </form>
  </div>

</section>

<style>
.edit-form-container {
  max-width: 700px;
  margin: 40px auto;
}

.edit-challenge-form {
  background: rgba(15, 23, 36, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 12px;
  padding: 40px;
}

.form-group {
  margin-bottom: 25px;
}

.form-group label {
  display: block;
  color: #00f5c0;
  font-weight: 600;
  margin-bottom: 8px;
  font-size: 0.95rem;
}

.form-group .input-field {
  width: 100%;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: #fff;
  padding: 12px;
  border-radius: 8px;
  font-family: 'Inter', sans-serif;
  transition: all 0.3s ease;
}

.form-group .input-field.textarea {
  resize: vertical;
  font-family: 'Inter', sans-serif;
  line-height: 1.6;
}

.form-group .input-field:focus {
  outline: none;
  border-color: #00f5c0;
  box-shadow: 0 0 0 2px rgba(0, 245, 192, 0.1);
  background: rgba(0, 245, 192, 0.02);
}

.help-text {
  display: block;
  color: #f59e0b;
  font-size: 0.8rem;
  margin-top: 5px;
}

.form-actions {
  display: flex;
  gap: 15px;
  margin-top: 30px;
}

.btn-cancel {
  flex: 1;
  padding: 12px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: #94a3b8;
  border-radius: 8px;
  text-align: center;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.btn-cancel:hover {
  background: rgba(255, 255, 255, 0.1);
  color: #cbd5e1;
  transform: translateY(-2px);
}

.btn-submit {
  flex: 2;
  padding: 12px;
  background: linear-gradient(90deg, #00f5c0, #0088ff);
  border: none;
  color: #050a10;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
}

.btn-submit:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 245, 192, 0.4);
}
</style>
{% endblock %}